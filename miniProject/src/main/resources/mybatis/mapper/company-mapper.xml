<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.green.miniProject.dao.ICompayydao">
	
	<insert id="insertCompany">
	    INSERT INTO company (ctype, cno, cname, caddr, cdocnum) VALUES
	    (#{com.ctype}, #{com.cno}, #{com.cname}, #{com.caddr}, #{com.cdocnum})
	</insert>
	
	<insert id="insertCompanyManager">
	    INSERT INTO companyManager (cmid, cmpw, cmemail, cmtel) VALUES
	    (#{cm.cmid}, #{cm.cmpw}, #{cm.cmemail}, #{cm.cmtel})
	</insert>

	<select id="select">
		SELECT * FROM companyManager WHERE cmid = #{cmid} AND cmpw = #{cmpw}
	</select>
	

    <update id="updateComInfo">
        UPDATE company
        SET cname = #{cname},
            caddr = #{caddr},
            ctel = #{ctel},
            cfoundation = #{cfoundation},
            camount = #{camount},
            cintro = #{cintro},
            ctype = #{ctype}
        WHERE cno = #{cno}
    </update>
    
        <update id="updateCMInfo">
        UPDATE companyManager
        SET cmpw = #{cmpw},
            cmname = #{cmname},
            cmemail = #{cmemail},
            cmtel = #{cmtel}
        WHERE cmid = #{cmid}
    </update>
	
	   <insert id="enwrite">
        INSERT INTO employnotice (title, intro, exp, skill, degree, welfare, salary, addr, ddate, position, cno)
        VALUES (#{en.entitle}, #{en.enintro}, #{en.enexp}, #{en.enskill}, #{en.endegree}, #{en.enwelfare}, #{en.ensalary}, #{en.enaddr}, #{en.enddate}, #{en.enposition}, #{en.cno})
    </insert>
  </mapper>